{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jaredricardo/Desktop/apps/stock screener/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jaredricardo/Desktop/apps/stock screener/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jaredricardo/Desktop/apps/stock screener/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jaredricardo/Desktop/apps/stock screener/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jaredricardo/Desktop/apps/stock screener/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jaredricardo/Desktop/apps/stock screener/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{newsAPI}from'../api';import'./components.css';import'bootstrap/dist/css/bootstrap.min.css';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';export var NewsAPI=/*#__PURE__*/function(_Component){_inherits(NewsAPI,_Component);var _super=_createSuper(NewsAPI);function NewsAPI(props){var _this;_classCallCheck(this,NewsAPI);_this=_super.call(this,props);_this.updateLinks=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,articleDict,ordered,numbOfArticles;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(_this.props.activeTicker===null)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(!_this.props.activeTicker){_context.next=12;break;}_context.next=5;return newsAPI(_this.props.activeTicker);case 5:data=_context.sent;articleDict={};data.articles.forEach(function(article){articleDict[article.publishedAt]={publisher:article.source.name,title:article.title,url:article.url,imgURL:article.urlToImage,publishDate:article.publishedAt.slice(0,10)};});ordered={};Object.keys(articleDict).sort().forEach(function(key){ordered[key]=articleDict[key];});numbOfArticles=10;_this.setState({newsList:Object.values(ordered).slice(10,10+numbOfArticles).reverse()// in the above set state, reverse method creates descending order of of articles (most recent first)\n// and the slice method slices out the oldest 10 articles from the api, leaving only the newest 20. \n// It's worth mentioned that the API sends articles in batches of 20, hence the 10/10 split. \n});case 12:case\"end\":return _context.stop();}}},_callee);}));_this.state={newsList:[]};return _this;}_createClass(NewsAPI,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.updateLinks();case 1:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(prevProps){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(prevProps.activeTicker!==this.props.activeTicker){this.updateLinks();}case 1:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidUpdate(_x){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"render\",value:function render(){var _this2=this;var newsList=this.state.newsList;var newsListMap=newsList.map(function(item){var img=/*#__PURE__*/React.createElement(\"img\",{src:item.imgURL,height:\"50\",width:\"50\",style:{objectFit:\"cover\"}});var columnOneItems=/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{id:\"news-publishers\"},\"  \",item.publisher,\"       \"),/*#__PURE__*/React.createElement(Row,{id:\"news-publish-date\"},\"  \",item.publishDate,\"   \"),/*#__PURE__*/React.createElement(Row,{id:\"news-title\"},\"         \",item.title,\"         \"));var columnTwoItems=/*#__PURE__*/React.createElement(\"div\",null,img);var format=/*#__PURE__*/React.createElement(\"div\",{className:\"news-row-item\",key:item.url},/*#__PURE__*/React.createElement(\"a\",{href:item.url,target:\"_blank\"/* style={{textDecoration:\"none\"}}*/},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xl:10,lg:10,md:10,xs:10},columnOneItems),/*#__PURE__*/React.createElement(Col,{xl:2,lg:2,md:2,xs:2,className:\"d-flex align-items-center justify-content-center\"},columnTwoItems))));return format;});var newsBanner=function newsBanner(){if(_this2.props.activeTicker===null){return/*#__PURE__*/React.createElement(\"h5\",null,\" Select ticker for news \");}else{return/*#__PURE__*/React.createElement(\"h5\",null,\" News for \",_this2.props.activeTicker,\" \");}};return/*#__PURE__*/React.createElement(\"div\",{className:\"content-container\",id:\"news\"},/*#__PURE__*/React.createElement(\"div\",null,\" \",newsBanner(),\" \"),/*#__PURE__*/React.createElement(Container,{className:\"news-container\"},newsListMap));}}]);return NewsAPI;}(Component);export default NewsAPI;// api key : 7339cb8efbde43e7b74b3a32535367a7","map":{"version":3,"sources":["/Users/jaredricardo/Desktop/apps/stock screener/src/components/NewsAPI.js"],"names":["React","Component","newsAPI","Container","Row","Col","NewsAPI","props","updateLinks","activeTicker","data","articleDict","articles","forEach","article","publishedAt","publisher","source","name","title","url","imgURL","urlToImage","publishDate","slice","ordered","Object","keys","sort","key","numbOfArticles","setState","newsList","values","reverse","state","prevProps","newsListMap","map","item","img","objectFit","columnOneItems","columnTwoItems","format","newsBanner"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { newsAPI } from '../api'\nimport './components.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Container  from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n\nexport class NewsAPI extends Component {\n    constructor(props) {\n        super(props)\n        this.state = { \n            newsList:[]\n        }\n    }\n\n\n    async componentDidMount() {\n        this.updateLinks()\n    }\n\n \n \n    updateLinks = async () => {\n        if(this.props.activeTicker === null) return\n        if(this.props.activeTicker) {\n            const data = await newsAPI(this.props.activeTicker)\n            const articleDict = {}\n            data.articles.forEach((article) => {\n                articleDict[article.publishedAt] = {\n                    publisher: article.source.name, \n                    title: article.title,\n                    url: article.url,\n                    imgURL: article.urlToImage,\n                    publishDate: article.publishedAt.slice(0, 10)  \n                }\n            })\n    \n            const ordered = {}\n            Object.keys(articleDict).sort().forEach(function(key){\n                ordered[key] = articleDict[key]\n            })\n            \n            const numbOfArticles = 10\n\n            this.setState({\n                newsList: Object.values(ordered).slice(10, 10 + numbOfArticles).reverse() \n                // in the above set state, reverse method creates descending order of of articles (most recent first)\n                // and the slice method slices out the oldest 10 articles from the api, leaving only the newest 20. \n                // It's worth mentioned that the API sends articles in batches of 20, hence the 10/10 split. \n            })\n        }\n    }\n\n    async componentDidUpdate(prevProps) {\n        if(prevProps.activeTicker !== this.props.activeTicker){\n            this.updateLinks()\n        }\n    }\n\n  \n\n    render() {\n\n        const newsList = this.state.newsList\n\n        const newsListMap = newsList.map((item) => {\n\n            const img = <img src={item.imgURL} height=\"50\" width=\"50\" style={{objectFit:\"cover\"}} />\n\n            const columnOneItems =   \n                                    <Container>\n                                        <Row id=\"news-publishers\">  {item.publisher}       </Row> \n                                        <Row id=\"news-publish-date\">  {item.publishDate}   </Row> \n                                        <Row id=\"news-title\">         {item.title}         </Row>\n                                    </Container> \n\n            const columnTwoItems = <div> \n                                        {img}\n                                    </div>\n            \n\n            const format = \n                    <div className=\"news-row-item\" key={item.url}> \n                        <a href={item.url} target =\"_blank\" /* style={{textDecoration:\"none\"}}*/ >\n                            <Row>  \n                                <Col xl={10} lg={10} md={10} xs={10} >\n                                    {columnOneItems}\n                                </Col>\n\n                                <Col xl={2} lg={2} md={2} xs={2} className=\"d-flex align-items-center justify-content-center\">\n                                    {columnTwoItems}\n                                </Col>\n                            </Row>\n                        </a>\n                    </div>    \n\n            return format \n        })\n\n        const newsBanner = () => {\n            if(this.props.activeTicker === null) {\n                return <h5> Select ticker for news </h5>\n            } else {\n                return <h5> News for {this.props.activeTicker} </h5>\n            }\n        }\n\n        return (\n            <div className=\"content-container\" id=\"news\">\n\n            <div> {newsBanner()} </div>\n\n            <Container className=\"news-container\"> \n\n                {newsListMap}\n            \n            </Container>\n             \n            </div>\n        )\n    }\n}\n\nexport default NewsAPI\n\n\n\n// api key : 7339cb8efbde43e7b74b3a32535367a7\n\n"]},"metadata":{},"sourceType":"module"}