{"ast":null,"code":"var _jsxFileName = \"/Users/jaredricardo/Desktop/apps/testing-api/src/components/Graph.js\";\nimport React, { Component } from 'react';\nimport { dailyData } from '../api';\nimport { historicalDataThirty } from '../api';\nimport { historicalDataNinety } from '../api';\nimport { Line } from 'react-chartjs-2';\n\nfunction newChartConfig(labels, data, activeTicker, graphedDaysFunc) {\n  return {\n    labels: labels,\n    datasets: [{\n      label: graphedDaysFunc,\n      fill: false,\n      lineTension: 0,\n      backgroundColor: 'rgba(75,192,192,0.4)',\n      borderColor: 'rgba(75,192,192,1)',\n      borderCapStyle: 'butt',\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: 'miter',\n      pointBorderColor: 'rgba(75,192,192,1)',\n      pointBackgroundColor: '#fff',\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n      pointHoverBorderColor: 'rgba(220,220,220,1)',\n      pointHoverBorderWidth: 2,\n      pointRadius: 1,\n      pointHitRadius: 10,\n      data: data\n    }]\n  };\n}\n\nexport class Graph extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleTestClick = async () => {};\n\n    this.handleClickDaily = async () => {\n      this.setState({\n        graphedDays: 1,\n        dataPointsNeeded: 100\n      });\n    };\n\n    this.handleClickThirty = async () => {\n      this.setState({\n        graphedDays: 30,\n        dataPointsNeeded: 90\n      });\n    };\n\n    this.handleClickNinety = async () => {\n      this.setState({\n        graphedDays: 90,\n        dataPointsNeeded: 90\n      });\n    };\n\n    this.updateData = async () => {\n      if (this.props.activeTicker === null) return; // same as return null \n\n      if (this.state.graphedDays === 1) {\n        const data = await dailyData(this.props.activeTicker);\n        const parsed = data[\"Time Series (5min)\"];\n        const yAxisArr = Object.values(parsed).map(e => +e[\"3. low\"]);\n        const dailyDataArr = yAxisArr.splice(0, yAxisArr.length).reverse();\n        const dailyxAxisData = Object.keys(parsed).map(e => e.slice(10, parsed.length)).splice(0, 100).reverse();\n        console.log(dailyDataArr);\n        console.log(xAxisData);\n        console.log(data);\n        this.setState({\n          data: dailyDataArr,\n          xAxisData: dailyxAxisData\n        });\n      } else if (this.state.graphedDays === 30) {\n        const data = await historicalDataThirty(this.props.activeTicker);\n        const parsed = data[\"Time Series (Daily)\"];\n        const yAxisArr = Object.values(parsed).map(e => +e[\"4. close\"]);\n        const oneMonthDataPoints = yAxisArr.splice(0, 30).reverse();\n        const monthlyxAxisData = Object.keys(parsed).map(e => e.slice(5, parsed.length)).splice(0, 30).reverse();\n        this.setState({\n          data: oneMonthDataPoints,\n          xAxisData: monthlyxAxisData\n        });\n      } else if (this.state.graphedDays === 90) {\n        const data = await historicalDataNinety(this.props.activeTicker);\n        const parsed = data[\"Time Series (Daily)\"];\n        const yAxisArr = Object.values(parsed).map(e => +e[\"4. close\"]);\n        const threeMonthDataPoints = yAxisArr.splice(0, 90).reverse();\n        const threeMonthxAxisData = Object.keys(parsed).map(e => e.slice(5, parsed.length)).splice(0, 90).reverse();\n        this.setState({\n          data: threeMonthDataPoints,\n          xAxisData: threeMonthxAxisData\n        });\n      }\n    };\n\n    this.state = {\n      graphedDays: null,\n      dataPointsNeeded: null,\n      dailyxAxisData: null,\n      monthlyxAxisData: null,\n      threeMonthxAxisData: null,\n      data: null\n    };\n  }\n\n  async componentDidMount() {\n    this.updateData();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (prevProps.activeTicker !== this.props.activeTicker || prevState.graphedDays !== this.state.graphedDays) {\n      this.updateData();\n    }\n  }\n\n  render() {\n    const activeTicker = this.props.activeTicker;\n\n    const graphLabel = () => {\n      if (this.state.graphedDays === null) {\n        return \"No active ticker\";\n      } else {\n        return activeTicker + ' ' + this.state.graphedDays + ' day graph';\n      }\n    };\n\n    const config = newChartConfig(this.state.xAxisData, this.state.data, activeTicker, graphLabel());\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleTestClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, \"test\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClickDaily,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, \"1 day\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClickThirty,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, \" 30 day \"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClickNinety,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, \" 90 day\"), /*#__PURE__*/React.createElement(Line, {\n      data: config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\nexport default Graph;","map":{"version":3,"sources":["/Users/jaredricardo/Desktop/apps/testing-api/src/components/Graph.js"],"names":["React","Component","dailyData","historicalDataThirty","historicalDataNinety","Line","newChartConfig","labels","data","activeTicker","graphedDaysFunc","datasets","label","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","Graph","constructor","props","handleTestClick","handleClickDaily","setState","graphedDays","dataPointsNeeded","handleClickThirty","handleClickNinety","updateData","state","parsed","yAxisArr","Object","values","map","e","dailyDataArr","splice","length","reverse","dailyxAxisData","keys","slice","console","log","xAxisData","oneMonthDataPoints","monthlyxAxisData","threeMonthDataPoints","threeMonthxAxisData","componentDidMount","componentDidUpdate","prevProps","prevState","render","graphLabel","config"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { dailyData } from '../api'\nimport { historicalDataThirty } from '../api'\nimport { historicalDataNinety} from '../api'\nimport { Line } from 'react-chartjs-2'\n\nfunction newChartConfig(labels, data, activeTicker, graphedDaysFunc) {\n    return {\n        labels: labels, \n        datasets: [\n          {\n            label: graphedDaysFunc,\n            fill: false,\n            lineTension: 0,\n            backgroundColor: 'rgba(75,192,192,0.4)',\n            borderColor: 'rgba(75,192,192,1)',\n            borderCapStyle: 'butt',\n            borderDash: [],\n            borderDashOffset: 0.0,\n            borderJoinStyle: 'miter',\n            pointBorderColor: 'rgba(75,192,192,1)',\n            pointBackgroundColor: '#fff',\n            pointBorderWidth: 1,\n            pointHoverRadius: 5,\n            pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n            pointHoverBorderColor: 'rgba(220,220,220,1)',\n            pointHoverBorderWidth: 2,\n            pointRadius: 1,\n            pointHitRadius: 10,\n            data: data\n          }\n        ]\n    }\n}\n\nexport class Graph extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            graphedDays: null,\n            dataPointsNeeded: null,\n            dailyxAxisData: null,\n            monthlyxAxisData: null,\n            threeMonthxAxisData: null,\n            data: null\n        }\n    }\n\n    handleTestClick = async () => {\n\n    }\n\n    handleClickDaily = async () => {\n        this.setState({\n            graphedDays:1,\n            dataPointsNeeded: 100 \n        })\n    }\n\n    handleClickThirty = async () => {\n        this.setState({\n            graphedDays: 30,\n            dataPointsNeeded: 90\n        })\n    }\n\n    handleClickNinety = async () => {\n        this.setState({\n            graphedDays: 90 ,\n            dataPointsNeeded: 90\n        })\n    }\n\n    updateData = async () => {\n        if (this.props.activeTicker === null) return // same as return null \n        if(this.state.graphedDays === 1 ) {\n            const data = await dailyData(this.props.activeTicker)\n            const parsed = data[\"Time Series (5min)\"]\n            const yAxisArr = Object.values(parsed).map((e) => +e[\"3. low\"])\n            const dailyDataArr = yAxisArr.splice(0, yAxisArr.length).reverse()\n            const dailyxAxisData = Object.keys(parsed).map(e => e.slice(10, parsed.length)).splice(0,100).reverse()\n            console.log(dailyDataArr)\n            console.log(xAxisData)\n            console.log(data)\n\n            this.setState({\n                data:dailyDataArr,\n                xAxisData: dailyxAxisData                \n            })\n        } else if (this.state.graphedDays === 30) {\n            const data = await historicalDataThirty(this.props.activeTicker)\n            const parsed = data[\"Time Series (Daily)\"]\n            const yAxisArr = Object.values(parsed).map((e) => +e[\"4. close\"])\n            const oneMonthDataPoints = yAxisArr.splice(0, 30).reverse()\n            const monthlyxAxisData = Object.keys(parsed).map(e => e.slice(5, parsed.length)).splice(0, 30).reverse()\n\n            this.setState({\n                data: oneMonthDataPoints,\n                xAxisData: monthlyxAxisData\n            })\n        } else if (this.state.graphedDays === 90) {\n            const data = await historicalDataNinety(this.props.activeTicker)\n            const parsed = data[\"Time Series (Daily)\"]\n            const yAxisArr = Object.values(parsed).map((e) => +e[\"4. close\"])\n            const threeMonthDataPoints = yAxisArr.splice(0, 90).reverse()\n            const threeMonthxAxisData = Object.keys(parsed).map(e => e.slice(5, parsed.length)).splice(0, 90).reverse()\n\n            this.setState({\n                data: threeMonthDataPoints,\n                xAxisData: threeMonthxAxisData\n            })\n        }\n    }\n\n    async componentDidMount() {\n        this.updateData()\n    }\n    \n    async componentDidUpdate(prevProps, prevState) {\n        if (prevProps.activeTicker !== this.props.activeTicker || \n            prevState.graphedDays !== this.state.graphedDays) {\n            this.updateData()\n        }\n    }\n\n    render() {\n\n        const activeTicker = this.props.activeTicker\n\n        const graphLabel = () => {\n            if(this.state.graphedDays === null) {\n                return \"No active ticker\"\n            } else {\n                return activeTicker + ' ' + this.state.graphedDays + ' day graph'\n            }\n        }\n       \n       \n        const config = newChartConfig(this.state.xAxisData, this.state.data, activeTicker, graphLabel())\n\n        return (\n            <div>\n                <button onClick={this.handleTestClick}>test</button>\n                <button onClick={this.handleClickDaily}>1 day</button>\n                <button onClick={this.handleClickThirty}> 30 day </button>\n                <button onClick={this.handleClickNinety}> 90 day</button>\n        \n                <Line data={config} />\n            </div>\n        )\n    }\n}\n\nexport default Graph"]},"metadata":{},"sourceType":"module"}